name: ci-golang-lint
on:
  pull_request:
    types:
      - opened
      - synchronize
      - reopened
      - ready_for_review
jobs:
    golang-lint:
        if: github.event_name == 'pull_request'
        name: lint
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - name: Setup Go
              uses: actions/setup-go@v5
              with:
                go-version-file: 'go.mod'
                check-latest: true
            - name: Generate Code
              run: go generate ./...
            - name: golang-lint
              env:
                GOGC: 10
              uses: golangci/golangci-lint-action@v4
              with:
                version: latest
                working-directory: .
                only-new-issues: true
                skip-pkg-cache: true
                skip-build-cache: true
                args: --timeout=10m
